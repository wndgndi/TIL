# 메모리 계층 구조


메모리 계층 구조는 '어떻게 하면 최대한 저렴한 가격에 최대한 빠른 컴퓨터를 만드는가?'라는 질문에 대한 대답에서 출발한다. 
*싼 메모리는 용량이 크지만 느리고, 비싼 메모리는 용량이 작지만 빠르다.* 대부분의 컴퓨터 프로그램들은 
프로그램의 작은 부분에 자주 접근하기에, 그 작은 부분만을 비싼 메모리에 저장하고 사용하면 프로그램의 전체적인 성능이 향상된다. 


이 때문에 컴퓨터 메모리는 용량이 많고 느린 아래쪽에서 시작해서 용량이 작고 빠른 위쪽으로 올라가는 계층구조를 지니고 있다. 
**즉, 메모리 계층구조란 메모리를 처리속도와 용량에 따라 계층적으로 나누어둔 구조를 말한다.** 


메모리 계층 구조는 크게 register, cache, Ram, HDD, SSD 다섯가지로 정리할 수 있다.
(세부적으로 옵테인 메모리 등의 구조가 있긴 하다)

<br>

![memory](https://mblogthumb-phinf.pstatic.net/MjAyMDA2MTRfMTM0/MDAxNTkyMTIyMDg4Mzkw.FxxzGcSrlfmtjC4Bz0lgM9Ea_foj-Eo-4Q-088uZR_sg.GBWAeFDjQNhKHPeDymCrXw-SOz3rSmcdEbALpwvm_eog.PNG.sjc02183/image.png?type=w800)

<br>

![memory2](https://mblogthumb-phinf.pstatic.net/MjAyMTAyMTdfNjgg/MDAxNjEzNTM0OTU3OTUz.hA4CS7dVMt0rwChEOyoUrYd6PcnygDm-qHesh0YD6sMg.27Z7OZJ2PqJhCL-Kr47XXffebWxQz2JIyM82bVrIvhMg.PNG.cjsksk3113/image.png?type=w800)

<br>

아래로 갈수록, 속도는 느려지고 가격은 저렴해진다. 

<br>

### 1. register (32 bit , 64 bit) 

**레지스터는 CPU 안에 존재하는 저장 공간을 의미한다.** 
**레지스터는 1bit의 정보를 저장할 수 있는 flip-flop의 집합이다.** 
**레지스터는 데이터와 명령어를 저장하는 역할을 하며, 가장 빠른 속도로 접근 가능한 메모리이다.** 
레지스터는 CPU 코어 내부에도 몇 개 존재하지 않는 귀한 장치이며 *(100개 들어있으면 많이 들어있는 것이다)*, 
대부분의 현대 프로세서는 메인 메모리에서 레지스터로 데이터를 옮겨와 데이터를 처리한 후 그 내용을 다시 
레지스터에서 메인 메모리로 저장하는 로드-스토어 설계를 사용하고 있다. 
최신 프로세서에서 레지스터는 대개 레지스터 파일로 구현되지만, 과거에는 플립플롭, 마그네틱 코어, 박막 필름 메모리 등으로 구현되기도 했다.

레지스터의 최대 처리 용량은 CPU의 처리 용량과 같은데, 32bit 컴퓨터는 2^32 까지, 64bit 컴퓨터는 2^64까지 인식이 가능하다.

​

### 2. Cache

캐시 메모리는 CPU 내부에 존재하는 저장공간을 의미한다. 보통 명령어를 저장하는 Instruction Cache와 데이터를 저장하는 Data Cache로 구분되어 있으며, 때로는 캐시 메모리도 L1 Cache, L2 Cache 등 여러 레벨으로 분할해서 세부 계층화 하기도 한다.

​

### 3. RAM

CPU와 별개인 메모리 중 최상위 메모리이자 '주기억장치'의 최하위 메모리이다. SSD, HHD와 Cache의 속도차이를 메꾸기 위해 만들어진 제품이다. PC당 수~수십GB정도로 이루어져있으며, 가정용에는 대부분 DRAM으로 구성된다. 32bit 컴퓨터의 최대 메모리 용량은 4GB이고, 64bit 컴퓨터의 경우 이론상 16EB(엑사바이트)까지 램 용량을 추가할 수 있다.(이런 비현실적인 용량은 현재로써는 사용하지 않기 때문에, 하위 48비트만 사용해, 256TB까지 가능하다고 한다.... 256TB 는 커녕  2020년 현재 128G 램 가격이 100만원이다 =_=)

​

### 4. SSD

Solid State Drive의 줄임말. CPU, 그래픽카드, Ram은 전기적으로 동작하는 반면 하드디스크는 물리적으로 동작하기 때문에 병목현상이 걸리는 경우가 많았다. 하지만 SSD가 보급되고 가격이 낮아지면서  HDD와 가성비 경쟁이 될 정도가 되자 많은 소비자들이 SSD를 사용해 성능향상을 누리게 되었다. ( 여담이지만, Ram과 더불어 삼성전자가 선두를 달리고 있는 분야이기도 하다 )

​

### 5. HDD

HDD는 비휘발성 데이터 저장소를 의미하며, 위의 기기와는 불허하는 엄청난 가성비를 가지고 있다.  1TB HDD가 5만원이 되지 않는다! 하지만 속도는 최대 200MB/s, 평균 60~150MB로 상당히 느리다.

반도체 기술의 발전과 SSD의 보급으로 가성비 격차가 줄어들고, 근미래에 SSD에게 자리를 밀려 사장될 것으로 예측된다. SSD와의 가장 큰 차이점은 반도체 기기인 SSD와 다르게 HDD는 물리적 장치라는 것이다. HDD는 자기장 원리를 이용해 자성 원판에 자기를 정렬하는 식으로 데이터를 기록한다. 